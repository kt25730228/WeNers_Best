<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <title>ìœ„ë„ˆìŠ¤ - ì‘ì€ ê±°ë˜ë„ ì¦ê±°ìš´ ê²½ë§¤</title>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="config.js"></script>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    body{font-family:Helvetica,Arial;background:#f0f7ff;margin:0;color:#0f172a}
    .top{display:flex;justify-content:space-between;align-items:center;padding:18px 36px;background:white;box-shadow:0 2px 8px rgba(2,6,23,.06)}
    .brand{font-size:24px;color:#0ea5e9;font-weight:700}
    .authBtns button{margin-left:10px;padding:8px 12px;border-radius:6px;border:1px solid #e6eefb;background:white;cursor:pointer}
    .hero{max-width:1100px;margin:40px auto;padding:40px;background:linear-gradient(135deg,#06b6d4 0%, #60a5fa 100%);color:white;border-radius:16px;display:flex;gap:30px;align-items:center}
    .hero .left{flex:1}
    .hero h1{font-size:46px;margin:0 0 8px}
    .hero p{font-size:18px;margin:10px 0 20px;opacity:.95}
    .cta{display:inline-block;background:white;color:#0ea5e9;padding:12px 18px;border-radius:12px;font-weight:700;text-decoration:none}
    .visual{width:360px;height:220px;border-radius:12px;background:rgba(255,255,255,.12);display:flex;align-items:center;justify-content:center}
    .visual img{width:140px;height:140px}
  </style>
</head>
<body>
  <header class="top">
    <div class="brand">ìœ„ë„ˆìŠ¤ <small style="font-weight:400;margin-left:10px;color:#64748b;font-size:13px">ì‘ì€ ê±°ë˜ë„ ì¦ê±°ìš´ ê²½ë§¤</small></div>
    <div class="authBtns" id="authBtns">
      <!-- ë¡œê·¸ì¸/íšŒì›ê°€ì… ë²„íŠ¼ í˜¹ì€ ì‚¬ìš©ìëª…/ë¡œê·¸ì•„ì›ƒì´ í‘œì‹œë©ë‹ˆë‹¤. -->
    </div>
  </header>

  <main>
    <section class="hero" role="region" aria-label="íˆì–´ë¡œ">
      <div class="left">
        <div style="display:inline-block;background:rgba(255,255,255,.12);padding:8px 14px;border-radius:999px;font-weight:600;margin-bottom:14px">ğŸ”¥ ì˜¤ëŠ˜ ë“±ë¡ëœ ì‹ ê·œìƒí’ˆì´ <strong>3ê°œ</strong> ìˆìŠµë‹ˆë‹¤.</div>
        <h1>ì‘ì€ ê±°ë˜ë„ ì¦ê±°ìš´ ê²½ë§¤<br/>ìœ„ë„ˆìŠ¤ì—ì„œ íŒ”ë˜? ë§ë˜? ì‚´ë˜? ë§ë˜?</h1>
        <p>ê°„ë‹¨í•œ ê²½ë§¤ í”Œë«í¼ ë°ëª¨ì…ë‹ˆë‹¤. íšŒì›ê°€ì…/ë¡œê·¸ì¸ í›„ ìƒí’ˆ ë“±ë¡ê³¼ ì…ì°°ì„ ì²´í—˜í•´ë³´ì„¸ìš”.</p>
        <a class="cta" href="weners_with_bids_realtime_auth.html">êµ¬ê²½í•˜ëŸ¬ ê°€ê¸°</a>
      </div>
      <div class="visual"><img src="https://placehold.co/140x140/fff/000?text=WeN" alt="visual"/></div>
    </section>
  </main>

<script>
if(!window.SUPABASE_URL || !window.SUPABASE_ANON_KEY){
  console.warn('config.jsê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. Supabase ì—°ë™ì„ ìœ„í•´ config.jsë¥¼ ìˆ˜ì •í•˜ì„¸ìš”.');
}

const supabase = supabase.createClient(window.SUPABASE_URL, window.SUPABASE_ANON_KEY);

async function renderAuth(){
  const { data } = await supabase.auth.getSession();
  const session = data?.session || null;
  const authBtns = document.getElementById('authBtns');

  // ê¸°ì¡´ ë¡œì»¬ ë°ëª¨ ì„¸ì…˜(ë¡œì»¬ìŠ¤í† ë¦¬ì§€)ì„ ë¬´ì¡°ê±´ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ.
  // Supabase ì„¸ì…˜ì´ ìˆìœ¼ë©´ ê·¸ê²ƒì„ ìš°ì„ ìœ¼ë¡œ ì‚¬ìš©í•˜ê³ , ì—†ìœ¼ë©´ 'ë¡œê·¸ì¸/íšŒì›ê°€ì…' ë²„íŠ¼ì„ ë³´ì„.
  if(session){
    const user = session.user;
    authBtns.innerHTML = `<span style="margin-right:12px;font-weight:600">${user.email}</span>
      <button id="logoutBtn" style="background:#ef4444;color:white;border:none;padding:8px 12px;border-radius:8px">ë¡œê·¸ì•„ì›ƒ</button>`;
    document.getElementById('logoutBtn').addEventListener('click', async ()=>{
      await supabase.auth.signOut();
      location.reload();
    });
  } else {
    authBtns.innerHTML = `<button onclick="location.href='auth_login.html'">ë¡œê·¸ì¸</button>
                          <button onclick="location.href='auth_signup.html'">íšŒì›ê°€ì…</button>`;
  }
}
renderAuth();
</script>
</body>
</html>
