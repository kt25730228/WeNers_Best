<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìœ„ë„ˆìŠ¤ - ì‘ì€ ê±°ë˜ë„ ì¦ê±°ìš´ ê²½í—˜ìœ¼ë¡œ</title>

    <style>
        body { margin:0; font-family: 'Pretendard', sans-serif; background:#f3f3f3; }
        header { display:flex; justify-content:space-between; align-items:center; padding:15px 25px; background:white; border-bottom:1px solid #ddd; }
        header h1 { font-size:28px; margin:0; color:#007bff; cursor:pointer; }
        nav button { margin-left:10px; padding:7px 14px; border:1px solid #007bff; border-radius:5px; background:white; font-size:15px; cursor:pointer; transition:0.25s; }
        nav button:hover { background:#007bff; color:white; }

        /* ë©”ì¸ Hero ì˜ì—­ */
        .hero { background:linear-gradient(#009DFF,#00E0C6); padding:80px 40px; color:white; min-height:530px; display:flex; flex-direction:column; justify-content:center;}
        .hero h2 { font-size:55px; font-weight:800; line-height:1.25; margin-bottom:30px; }
        .hero p { font-size:23px; opacity:0.9; }

        /* ë²„íŠ¼ */
        .btn-wrap { margin-top:40px; }
        .btn-main { font-size:19px; padding:15px 30px; border-radius:7px; margin-right:15px; cursor:pointer; border:none; }
        .btn-blue { background:#007bff; color:white; }
        .btn-blue:hover { background:#005fcc; }
        .btn-white { background:white; color:#007bff; border:2px solid #007bff; }
        .btn-white:hover { background:#e9f2ff; }

        /* ì¹´í…Œê³ ë¦¬ í”Œë¡œíŒ… UI */
        .float-box { width:150px; height:150px; background:white; border-radius:20px; box-shadow:0 6px 12px rgba(0,0,0,0.08);
                     display:flex; justify-content:center; align-items:center; font-size:26px; font-weight:700;
                     position:absolute; transform:rotate(-5deg); cursor:pointer; transition:0.3s; }
        .float-box:hover { transform:scale(1.08) rotate(-2deg); }

        .book { left:55%; top:320px; background:#FFF4E3; color:#E56A00; }
        .doll { left:43%; top:430px; background:#FFE3F1; color:#D62876; }
        .living { left:72%; top:460px; background:#E6FFF2; color:#00A654; }
        .elect { left:74%; top:200px; background:#E6F3FF; color:#0056D6; }

        .badge-hot { background:#ffeb3b; font-size:12px; padding:3px 7px; border-radius:5px; margin-left:5px; }

        /* ìƒë‹¨ ë¡œê·¸ì¸ ìƒíƒœ í…ìŠ¤íŠ¸ */
        #userBox { font-size:16px; margin-right:10px; font-weight:600; color:#444; }

    </style>
</head>

<body>

<header>
    <h1 onclick="location.href='index.html'">ìœ„ë„ˆìŠ¤</h1>

    <nav>
        <span id="userBox"></span>
        <button id="loginBtn" onclick="location.href='auth_login.html'">ë¡œê·¸ì¸</button>
        <button id="signupBtn" onclick="location.href='auth_signup.html'">íšŒì›ê°€ì…</button>

        <button id="mySell" style="display:none;" onclick="location.href='my_sell.html'">ë‚´ íŒë§¤</button>
        <button id="myBid" style="display:none;" onclick="location.href='my_bid.html'">ë‚´ ì…ì°°</button>
        <button id="logoutBtn" style="display:none;">ë¡œê·¸ì•„ì›ƒ</button>
        <button class="btn-blue" onclick="location.href='create_with_image_upload_auth.html'">ìƒí’ˆë“±ë¡</button>
    </nav>
</header>

<section class="hero">
    <p style="background:white; color:#222; padding:8px 16px; border-radius:8px; display:inline-block;">
        ğŸ”¥ ì˜¤ëŠ˜ ë“±ë¡ëœ ì‹ ê·œ ìƒí’ˆì´ <b>0ê°œ</b> ìˆìŠµë‹ˆë‹¤.
    </p>

    <h2>
        ì‘ì€ ê±°ë˜ë„ ì¦ê±°ìš´ ê²½í—˜ìœ¼ë¡œ  
        <br> ìœ„ë„ˆìŠ¤ì—ì„œ  
        íŒ”ë˜? ì‚´ë˜?
    </h2>

    <div class="btn-wrap">
        <button class="btn-white" onclick="location.href='weners_with_bids_realtime_auth.html'">êµ¬ê²½í•˜ëŸ¬ ê°€ê¸°</button>
        <button class="btn-blue" onclick="location.href='create_with_image_upload_auth.html'">ìƒí’ˆ ë“±ë¡</button>
    </div>
</section>

<!-- Floating category cards ìœ ì§€ -->
<div class="float-box elect">Electronics <span class="badge-hot">HOT</span></div>
<div class="float-box book">Book</div>
<div class="float-box doll">Doll</div>
<div class="float-box living">Living</div>

<script type="module">
    import { supabase } from "./config.js";

    async function loadUser() {
        const { data:{ user } } = await supabase.auth.getUser();

        if (!user) return; // â† ë¡œê·¸ì¸ ì•ˆ ë˜ì–´ ìˆìœ¼ë©´ UI ê·¸ëŒ€ë¡œ (ë¡œê·¸ì¸/íšŒì›ê°€ì…ë§Œ ë³´ì„)

        document.getElementById("loginBtn").style.display="none";
        document.getElementById("signupBtn").style.display="none";
        document.getElementById("mySell").style.display="inline-block";
        document.getElementById("myBid").style.display="inline-block";
        document.getElementById("logoutBtn").style.display="inline-block";
        document.getElementById("userBox").innerHTML = `${user.email.replace("@gmail.com","")}ë‹˜`;
    }
    loadUser();

    document.getElementById("logoutBtn").onclick = async ()=>{
        await supabase.auth.signOut();
        sessionStorage.clear(); // ìë™ ë³µêµ¬ ë°©ì§€ í•µì‹¬
        location.reload();
    };
</script>

</body>
</html>
