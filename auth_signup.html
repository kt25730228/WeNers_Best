<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>íšŒì›ê°€ì…</title>
<script type="module">
import { createClient } from "https://esm.sh/@supabase/supabase-js@2";
import { SUPABASE_URL, SUPABASE_ANON_KEY } from "./config.js";

const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY, {
  auth:{ persistSession:false, autoRefreshToken:false }
});

document.addEventListener("DOMContentLoaded", () => {
  const form = document.getElementById("signupForm");

  form.addEventListener("submit", async(e)=>{
    e.preventDefault();

    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;

    //----------------------
    // ğŸ”¥ íšŒì›ê°€ì… ì‹¤í–‰
    //----------------------
    const { data, error } = await supabase.auth.signUp({
      email, password
    });

    if(error){
      alert("íšŒì›ê°€ì… ì‹¤íŒ¨: " + error.message);
      return;
    }

    alert("íšŒì›ê°€ì… ì„±ê³µ!\në¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.");
    location.href="auth_login.html";
  });
});
</script>
</head>

<body>
<h2>íšŒì›ê°€ì…</h2>
<form id="signupForm">
  <input type="email" id="email" placeholder="ì´ë©”ì¼" required><br>
  <input type="password" id="password" placeholder="ë¹„ë°€ë²ˆí˜¸" required><br><br>
  <button type="submit">íšŒì›ê°€ì…</button>
</form>
</body>
</html>
