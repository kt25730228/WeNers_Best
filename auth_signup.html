<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<title>íšŒì›ê°€ì…</title>
<style>
    body { font-family:sans-serif; background:#f7f9fc; padding:40px; }
    .wrap{ max-width:450px; margin:auto; background:white; padding:30px; border-radius:12px; box-shadow:0 0 20px rgba(0,0,0,0.08);}
    input{ width:100%; padding:12px; margin-top:10px; border:1px solid #ddd; border-radius:8px;}
    button{ width:100%; padding:14px; background:#0064ff; color:white; font-size:17px; border:none; margin-top:18px; border-radius:8px; cursor:pointer;}
    button:hover{ background:#004bd1;}
</style>
</head>
<body>

<div class="wrap">
    <h2>íšŒì›ê°€ì…</h2>
    <form id="signupForm">
        <input type="email" id="email" placeholder="ì´ë©”ì¼ ì…ë ¥" required />
        <input type="password" id="password" placeholder="ë¹„ë°€ë²ˆí˜¸ ì…ë ¥" required />
        <button type="submit">íšŒì›ê°€ì…</button>
    </form>
</div>

<!-- ğŸ”¥ Supabase ì—°ê²° -->
<script type="module">
import { createClient } from "https://esm.sh/@supabase/supabase-js";
import { SUPABASE_URL, SUPABASE_ANON_KEY } from "./config.js";

// í´ë¼ì´ì–¸íŠ¸ ì—°ê²°
const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

// í¼ submit â†’ íšŒì›ê°€ì… ì‹¤í–‰
document.getElementById("signupForm").addEventListener("submit", async (e) => {
    e.preventDefault();

    const email = document.getElementById("email").value.trim();
    const password = document.getElementById("password").value.trim();

    const { data, error } = await supabase.auth.signUp({
        email,
        password
    });

    if (error) {
        alert("âŒ íšŒì›ê°€ì… ì‹¤íŒ¨: " + error.message);
        return;
    }

    alert("ğŸ‰ ê°€ì… ì™„ë£Œ!\në¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™ë©ë‹ˆë‹¤.");
    window.location.href = "auth_login.html"; // ê°€ì… í›„ ë¡œê·¸ì¸í˜ì´ì§€ë¡œ ì´ë™
});
</script>

</body>
</html>
